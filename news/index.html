<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • EpiCompare</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EpiCompare</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.12.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/EpiCompare.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/docker.html">Docker/Singularity Containers</a>
    </li>
    <li>
      <a href="../articles/example_report.html">Example report</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/neurogenomics/EpiCompare/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/neurogenomics/EpiCompare/blob/RELEASE_3_21/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="1.13.2" id="changes-in-version-1132--1121--1122-hotfix-breaking-change">CHANGES IN VERSION 1.13.2 / 1.12.1 / 1.12.2 [HOTFIX, BREAKING CHANGE]<a class="anchor" aria-label="anchor" href="#changes-in-version-1132--1121--1122-hotfix-breaking-change"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-1-13-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-13-2"></a></h3>
<ul><li>[BREAKING CHANGE] Temporarily disable <code>upset_plot</code> option as one of the dependencies, <code>ComplexUpset</code>, is not yet updated to support <code>ggplot 4.4.0</code>.</li>
<li>Fix deprecated <code>ggplot</code> arguments.</li>
</ul></div>
<div class="section level3">
<h3 id="miscellaneous-1-13-2">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-1-13-2"></a></h3>
<ul><li>
<code>add_download_button</code>:
<ul><li>No longer changes to <code>TRUE</code> if <code>run_all</code> is <code>TRUE</code>.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.11.2" id="changes-in-version-1112--1113">CHANGES IN VERSION 1.11.2 / 1.11.3<a class="anchor" aria-label="anchor" href="#changes-in-version-1112--1113"></a></h2>
<ul><li>Update minimum version for dependency <code>IRanges</code>. See <a href="https://github.com/neurogenomics/EpiCompare/issues/155" class="external-link">issue </a><a href="https://github.com/neurogenomics/EpiCompare/issues/155" class="external-link">#155</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.10.1" id="changes-in-version-1101-hotfix--1111">CHANGES IN VERSION 1.10.1 [HOTFIX] / 1.11.1<a class="anchor" aria-label="anchor" href="#changes-in-version-1101-hotfix--1111"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-1-10-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-10-1"></a></h3>
<ul><li>
<code>prepare_output_build</code>
<ul><li>Fix support for mouse genome builds (mm9 and mm10).</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-10-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-10-1"></a></h3>
<ul><li>
<code>Epicompare.Rmd</code>
<ul><li>Mention support for mouse genome builds.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9.5" id="changes-in-version-195">CHANGES IN VERSION 1.9.5<a class="anchor" aria-label="anchor" href="#changes-in-version-195"></a></h2>
<div class="section level3">
<h3 id="new-features-1-9-5">New features<a class="anchor" aria-label="anchor" href="#new-features-1-9-5"></a></h3>
<ul><li>Remove the soon-to-be-deprecated <code>BRGenomics</code> dependency.
<ul><li>Port <code>tidyChromosomes</code> function to <code>EpiCompare</code>.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="miscellaneous-1-9-5">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-1-9-5"></a></h3>
<ul><li>Update maintainer details.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3.4" id="changes-in-version-134">CHANGES IN VERSION 1.3.4<a class="anchor" aria-label="anchor" href="#changes-in-version-134"></a></h2>
<div class="section level3">
<h3 id="new-features-1-3-4">New features<a class="anchor" aria-label="anchor" href="#new-features-1-3-4"></a></h3>
<ul><li>Example report:
<ul><li>Delete <em>report/</em> folder and upload to Releases instead: <a href="https://github.com/neurogenomics/EpiCompare/releases" class="external-link uri">https://github.com/neurogenomics/EpiCompare/releases</a>
</li>
<li>Add Rscript to replicate example report in <em>inst/examples</em>.</li>
</ul></li>
<li>EpiCompare
<ul><li>New arg <code>add_download_button</code>.</li>
<li>Always keep download button for post-processed peak files.</li>
</ul></li>
<li>`save_output``
<ul><li>Change <em>.txt</em> suffixes to more informative <em>.csv</em> suffixes for saved files.</li>
</ul></li>
<li>Create <code>EpiArchives</code> and offload report to there:
<ul><li>Updated <em>vignettes/example_report.Rmd</em> so that it just renders the markdown landing page for <code>EpiArchives</code>.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-3-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-3-4"></a></h3>
<ul><li>
<em>README.Rmd</em>:
<ul><li>Fix broken link to example report.</li>
</ul></li>
<li>
<em>test-EpiCompare.R</em>:
<ul><li>Fix issue with PNG save path.</li>
<li>Make separate subfolders for each set of tests.</li>
</ul></li>
<li>
<em>test-output_files.R</em>
<ul><li>Make separate subfolders for each set of tests.</li>
</ul></li>
<li>
<code>plot_enrichment</code>
<ul><li>Conditionally generate plots only when enrichment results aren’t <code>NULL</code>.</li>
<li>Return KEGG/GO enrichment results as well as the plots.</li>
</ul></li>
<li>Add <code>workers &lt;- check_workers(workers = workers)</code> to all functions that take <code>workers</code> to handle <code>workers=NULL</code> properly.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3.3" id="changes-in-version-133">CHANGES IN VERSION 1.3.3<a class="anchor" aria-label="anchor" href="#changes-in-version-133"></a></h2>
<div class="section level3">
<h3 id="new-features-1-3-3">New features<a class="anchor" aria-label="anchor" href="#new-features-1-3-3"></a></h3>
<ul><li>
<code>download_button</code>:
<ul><li>Saves and downloads files.</li>
</ul></li>
<li>
<code>prepare_blacklist</code>:
<ul><li>Auto-selects appropriate blacklist, or returns user-specified option.</li>
<li>
<code>EpiCompare(blacklist=NULL)</code> is now the default.</li>
</ul></li>
<li>
<code>prepare_genome_builds</code>:
<ul><li>Update to handle supplying builds for “peakfiles” and “reference” but not “blacklist” (so long as the <code>blacklist</code> arg is not a user-supplied <code>GRanges</code> object)</li>
</ul></li>
<li>Added <code>mm9_blacklist</code>
</li>
<li>Made more plots interactive:
<ul><li><code>width_boxplot</code></li>
<li><code>plot_enrichment</code></li>
<li><code>plot_ChIPseeker_annotation</code></li>
</ul></li>
<li>
<code>overlap_stat_plot</code>
<ul><li>Name elements in output list.</li>
</ul></li>
<li>Change <code>annotation</code> arg to more informative <code>txdb</code> arg, and set default to <code>NULL</code>, which <code>ChIPseeker</code> functions will automatically handle.</li>
<li>New function <code>as_interactive</code>:
<ul><li>Help standardise this.</li>
</ul></li>
<li>New <code><a href="../reference/EpiCompare.html">EpiCompare::EpiCompare</a></code> arguments:
<ul><li>
<code>error</code>: keep knitting even on errors.</li>
<li>
<code>tss_distance</code>: upstream/downstream of TSS.</li>
<li>
<code>quiet</code>: knit quietly</li>
</ul></li>
<li>Rename <em>‘test-EpiCompare_combinations.R’</em> –&gt; <em>‘test-EpiCompare.R’</em>
</li>
<li>Separate <em>test-generalMetrics_functions.R</em> into function-specific test files.</li>
<li>Separate <em>test-peakOverlap_functions.R</em> into function-specific test files.</li>
<li>Make fancy header with new func:
<ul><li><code><a href="../reference/report_header.html">report_header()</a></code></li>
</ul></li>
<li>Create <code>EpiCompare</code> command code as text:
<ul><li><code><a href="../reference/report_command.html">report_command()</a></code></li>
</ul></li>
<li>
<code>width_boxplot</code>:
<ul><li>Make more efficient with <code>data.table</code> and <code>lapply</code>
</li>
</ul></li>
<li>Update hex sticker to match <em>custom.css</em> palette.</li>
<li>
<em>README.Rmd</em>
<ul><li>Collapse more detailed sections.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-3-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-3-3"></a></h3>
<ul><li>
<code>tss_plot</code>:
<ul><li>Fix examples/tests after Sera updated the arguments.</li>
<li>Pass upstream/downstream to <code><a href="https://rdrr.io/pkg/ChIPseeker/man/getTagMatrix.html" class="external-link">ChIPseeker::getTagMatrix</a></code>
</li>
<li>Make interactive</li>
<li>Name plots in list</li>
<li>Remove unnecessary extra level of list nesting.</li>
</ul></li>
<li>Make documentation width &lt;80 lines where possible.</li>
<li>
<em>EpiCompare.Rmd</em>
<ul><li>Remove <code><a href="https://rdrr.io/r/methods/show.html" class="external-link">methods::show</a></code> from all parts</li>
<li>Name all chunks</li>
<li>Make explanations more clear</li>
<li>Add table of contents for main 3 sections.</li>
<li>Fix header levels</li>
<li>Set <code>results='asis'</code> globally instead of in each chunk header.</li>
<li>Automatically number sections with yaml arg: <code>number_sections: true</code>
</li>
<li>Omit specific headers from numbering system with <code>{-}</code> tags.</li>
<li>Add <em>custom.css</em>
</li>
</ul></li>
<li>
<code>plot_chromHMM</code>:
<ul><li><code>Error in (function (classes, fdef, mtable) unable to find an inherited method for function ‘annotateWithFeatures’ for signature ‘"SimpleGRangesList", "list"’</code></li>
<li>Misleading error message; was actually due to <code>chromHMM_annotation</code> not being converted from a list to a <code>GRangesList</code>.</li>
<li>Change yaml arg <code>peakfile</code> –&gt; <code>peakfiles</code> to be consistent with other variables.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.3.1" id="changes-in-version-131">CHANGES IN VERSION 1.3.1<a class="anchor" aria-label="anchor" href="#changes-in-version-131"></a></h2>
<div class="section level3">
<h3 id="new-features-1-3-1">New features<a class="anchor" aria-label="anchor" href="#new-features-1-3-1"></a></h3>
<ul><li>Replace <code>badger</code> with <code>rworkfows</code>:
<ul><li>Use <code><a href="https://rdrr.io/pkg/rworkflows/man/use_badges.html" class="external-link">rworkflows::use_badges</a></code>
</li>
</ul></li>
<li>New helper functions:
<ul><li><code>precision_recall_matrix</code></li>
<li><code>report_time</code></li>
</ul></li>
<li>
<code>overlap_upset_plot</code>:
<ul><li>Switched out <code>UpSetR</code> for <code>ComplexUpset</code>to show percentages.</li>
<li>Moved up dep checks to beginning of function.</li>
</ul></li>
<li>Handle bug with <code>heatmaply</code> by checking args where it might be used:
<ul><li><code>check_heatmap_args</code></li>
</ul></li>
<li>
<code>tss_plot</code>:
<ul><li>Add unit tests</li>
<li>Drastically reduce example/test runtime by setting <code>upstream=50</code>
</li>
</ul></li>
<li>
<code>compute_corr</code>:
<ul><li>Reduce example runtime by setting <code>bin_size = 200000</code> (takes &lt;2s).</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-3-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-3-1"></a></h3>
<ul><li>Fix typo in <code>EpiCompare</code> docs: “hg38 blacklist dataset”</li>
<li>Avoid explicitly specifying “/” in paths to help cross-platform testing.</li>
<li>
<code>tss_plot</code>:
<ul><li>Use <code>parallel::detectCores-1</code> by default to set workers, but set to 1 in examples/tests to meet CRAN/Bioc standards.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.4" id="changes-in-version-114">CHANGES IN VERSION 1.1.4<a class="anchor" aria-label="anchor" href="#changes-in-version-114"></a></h2>
<div class="section level3">
<h3 id="new-features-1-1-4">New features<a class="anchor" aria-label="anchor" href="#new-features-1-1-4"></a></h3>
<ul><li>Add back example report html:
<ul><li>Put it in the main dir</li>
<li>Add it to the <em>.Rbuildignore</em>: <em>report/EpiCompare_example.html</em>
</li>
<li>Add a new vignette that renders the HTML from the pre-saved file.</li>
</ul></li>
<li>Remove <em>Dockerfile</em>, as it’s no longer necessary with the updated version of <code>rworkflows</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-4"></a></h3>
<ul><li>Add <code>@returns</code> to <code>group_files</code> function.</li>
<li>Add all authors to vignettes.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.3" id="changes-in-version-113">CHANGES IN VERSION 1.1.3<a class="anchor" aria-label="anchor" href="#changes-in-version-113"></a></h2>
<div class="section level3">
<h3 id="new-features-1-1-3">New features<a class="anchor" aria-label="anchor" href="#new-features-1-1-3"></a></h3>
<ul><li>New function: <code>predict_precision_recall</code>
<ul><li>Added unit tests.</li>
</ul></li>
<li>
<code>compute_corr</code> and <code>precision_recall</code> now save outputs, including when run via <code>EpiCompare</code> Rmarkdown script.</li>
<li>Make subfunctions for <code>plot_precision_recall</code>:
<ul><li><code>plot_precision_recall_prcurve</code></li>
<li><code>plot_precision_recall_f1</code></li>
</ul></li>
<li>
<code>rebin_peaks</code>:
<ul><li>Allow users to specify <code>sep</code> between genomic coordinates in rownames.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-3"></a></h3>
<ul><li>Update <code>gather_files</code> to match new Picard file scheme in <em>nf-core/cutandrun</em> 3.0.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.2" id="changes-in-version-112">CHANGES IN VERSION 1.1.2<a class="anchor" aria-label="anchor" href="#changes-in-version-112"></a></h2>
<div class="section level3">
<h3 id="new-features-1-1-2">New features<a class="anchor" aria-label="anchor" href="#new-features-1-1-2"></a></h3>
<ul><li>
<code>rebin_peaks</code>:
<ul><li>Added arg <code>drop_empty_chr</code> to automatically drop chroms that aren’t in any of the <code>peakfiles</code>.</li>
<li>Added “score” as one of the default <code>intensity_cols</code> in all relevant functions.</li>
<li>Make examples use 5000bp bins to speed up.</li>
</ul></li>
<li>
<code>translate_genome</code>:
<ul><li>Add <code>default_genome</code> arg to handle <code>genome=NULL</code>.</li>
</ul></li>
<li>
<code>bpplapply</code>:
<ul><li>New exported function to automate handling of known issues with <code>BiocParallel</code> across OS platforms.</li>
<li>Enable users to specify their own apply function.</li>
</ul></li>
<li>
<code>get_bpparam</code>: Add args to allow users to choose which <code>BiocParallel</code> func to use.</li>
<li>
<code>checkCache</code>: Make default arg <code>cache=BiocFileCache::BiocFileCache(ask = FALSE)</code> to skip user input during runtime.</li>
<li>
<code>precision_recall</code>:
<ul><li>Change <code>increment_threshold</code> arg to <code>n_threshold</code> arg, using the <code>seq(length.out=)</code> feature to avoid accidentally choosing an inappropriately large <code>increment_threshold</code>.</li>
</ul></li>
<li>
<code>gather_files</code>:
<ul><li>Replace iterator with <code>bpplapply</code>.</li>
<li>Pass up args from <code>bpplapply</code>.</li>
<li>Provide warning message, not error, when 0 files found. Returns <code>NULL</code>.</li>
<li>Add “multiqc” as a search option.</li>
<li>Add dedicated subfunctions for reading in a variety of <em>nf-core/cutandrun</em> outputs files: <code>read_picard</code>,<code>read_multiqc</code>,<code>read_bowtie</code>, <code>read_trimgalore</code>,<code>read_bam</code>,<code>read_peaks</code>
</li>
<li>Add file paths to each object.</li>
<li>Add new arg <code>rbind_list</code>.</li>
</ul></li>
<li>
<code>rebin_peaks</code>/<code>compute_corr</code>: -Change default<code>bin_size</code> from 100 –&gt; 5kb to improve efficiency and align with other defaults of other packages (e.g <code>Signac</code>).</li>
<li>
<code>tss_plot</code>:
<ul><li>Pass up more arg for specifying upstream/downstream.</li>
</ul></li>
<li>
<code>EpiCompare</code>: Pass up new args:
<ul><li><code>bin_size</code></li>
<li><code>n_threshold</code></li>
<li><code>workers</code></li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-2"></a></h3>
<ul><li>Fix <code>rebin_peaks</code> unit tests.</li>
<li>Fix pkg size issue by adding <em>inst/report</em> to <em>.Rbuildignore</em>.</li>
<li>
<code>EpiCompare</code> wasn’t being run when reference was a single unlisted <code>GRanges</code> object because it was indeed length&gt;1, but the <code>names</code> were all <code>NULL</code>. Now fixed.</li>
<li>
<code>plot_precision_recall</code>: Set default <code>initial_threshold=</code> to 0.</li>
<li>Switch from <code>BiocParallel</code> to <code>parallel</code>, as the former is extremely buggy and inconsistent.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.1" id="changes-in-version-111">CHANGES IN VERSION 1.1.1<a class="anchor" aria-label="anchor" href="#changes-in-version-111"></a></h2>
<div class="section level3">
<h3 id="new-features-1-1-1">New features<a class="anchor" aria-label="anchor" href="#new-features-1-1-1"></a></h3>
<ul><li>
<code>check_genome_build</code>: Add <code>translate_genome</code> as prestep.</li>
<li>
<code>rebin_peaks</code>:
<ol style="list-style-type: decimal"><li>Move all steps that could be done just once (e.g. creating the genome-wide tiles object) outside of the <code><a href="https://rdrr.io/pkg/BiocParallel/man/bpmapply.html" class="external-link">BiocParallel::bpmapply</a></code> iterator.</li>
<li>Ensure all outputs of <code><a href="https://rdrr.io/pkg/BiocParallel/man/bpmapply.html" class="external-link">BiocParallel::bpmapply</a></code> are of the same length, within the exact same bins, so that we can return just the bare minimum data needed to create the matrix (1 numeric vector/sample).</li>
<li>Instead of <code>rbind</code>ing the results and then casting them back into a matrix (which is safer bc it can handle vectors of different lengths), simply <code>cbind</code> all vectors into one matrix directly and name the rows using the predefined genome-wide tiles.</li>
<li>Because we are no longer <code>rbind</code>ing a series of very long tables, this avoids the issue encountered here <a href="https://github.com/neurogenomics/EpiCompare/issues/103" class="external-link">#103</a>. This means this function is now much more scalable to many hundreds/thousands of samples (cells) even at very small bin sizes (e.g. 100bp).</li>
<li>A new argument <code>keep_chr</code> allows users to specify whether they want to restrict which chromosomes are used during binning. By default, all chromosomes in the reference genome are used (<code>keep_chr=NULL</code>), but specifying a subset of chromosomes (e.g. <code>paste0("chr",seq_len(12))</code>) can drastically speed up compute time and reduce memory usage. It can also be useful for removing non-standard chromosomes (e.g. “chr21_gl383579_alt”, “chrUns…”, “chrRand…”).</li>
<li>As a bonus, <code>rebin_peaks</code> now reports the final binned matrix dimensions and a sparsity metric.<br></li>
</ol></li>
<li>
<code>compute_corr</code>:
<ul><li>Added unit tests at different bin sizes.</li>
<li>Allow <code>reference</code> to be <code>NULL</code>.</li>
</ul></li>
<li>Updated README to reflect latest vesion of <code>EpiCompare</code> with <code>gather_files</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-1"></a></h3>
<ul><li>Bumped version to align with Bioc devel (currently 1.1.0).</li>
<li>
<code>compute_percentiles</code>:
<ul><li>Making default <code>initial_threshold=0</code>, so as not to assume any particular threshold.</li>
</ul></li>
<li>
<code>rebin_peaks</code>:
<ul><li>Addressed error that occurs when there’s many samples/cells with small bins.<br></li>
</ul></li>
<li>
<code>plot_precision_recall</code>: Don’t plot the reference as part of the PR curve.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.21" id="changes-in-version-09921">CHANGES IN VERSION 0.99.21<a class="anchor" aria-label="anchor" href="#changes-in-version-09921"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-99-21">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-99-21"></a></h3>
<ul><li>Changed terminology from “epigenetic” to “epigenomic”</li>
<li>Updated README to include precision_recall_plot and corr_plot</li>
<li>Removed bugs in html report</li>
<li>Added example EpiCompare report in inst/report/EpiCompare_example.html</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.20" id="changes-in-version-09920">CHANGES IN VERSION 0.99.20<a class="anchor" aria-label="anchor" href="#changes-in-version-09920"></a></h2>
<div class="section level3">
<h3 id="new-features-0-99-20">New features<a class="anchor" aria-label="anchor" href="#new-features-0-99-20"></a></h3>
<ul><li>Upgraded <code>liftover_grl</code> and added genome standardization.
<ul><li>Enable cross-species liftover from/to mm10 and mm9 –&gt; hg19 and hg38.</li>
<li>Subfunctionalize <code>get_chain_file</code>.</li>
<li>Add <code>merge_all</code> option.</li>
</ul></li>
<li>Support mm10/mm9 as <code>output_build</code> options.</li>
<li>Removed <code>dplyr</code>.</li>
<li>Moved <code>plyranges</code> to <em>Suggests</em>.</li>
<li>
<code>plot_precision_recall</code>:
<ul><li>New exported function to create precision-recall plots from MACS2, MACS3, HOMER, or SEACR peak files.</li>
<li>Added unit tests.</li>
<li>Added to EpiCompare html report.</li>
<li>Added <code>EpiCompare(precision_recall_plot=)</code> param and documented.</li>
</ul></li>
<li>Add <em>ISSUE</em> templates.</li>
<li>Include code in html report (collapsed by default).</li>
<li>Add correlation matrix/plot functionality.</li>
<li>Add <code><a href="../reference/compute_consensus_peaks.html">compute_consensus_peaks()</a></code> as function for preprocessing peak files.
<ul><li>Add <code><a href="../reference/group_files.html">group_files()</a></code> function to help assign each peakfile to a group based on substring searches.</li>
</ul></li>
<li>
<code>EpiCompare</code>:
<ul><li>Return paths to HTML reports.</li>
<li>Automatically open report in browser or rstudio.</li>
</ul></li>
<li>Add Docker vignette and advertise in README.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-99-20">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-99-20"></a></h3>
<ul><li>Made <code>BiocParallel</code> functions compatible with Windows.</li>
<li>Organize author fields in DESCRIPTION.</li>
<li>Fix typos in README.</li>
<li>Remove threshold=1 from list of thresholds to test in precision-recall curves.</li>
<li>Set first chunk in <em>EpiCompare.Rmd</em> as <code>echo=FALSE</code> instead of <code>include=FALSE</code> so the output messages will still be printed (without showing the code).</li>
<li>Remove <code>here</code> from <em>Suggests</em>.</li>
<li>Fix directory creation in <code><a href="../reference/EpiCompare.html">EpiCompare::EpiCompare</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.19" id="changes-in-version-09919">CHANGES IN VERSION 0.99.19<a class="anchor" aria-label="anchor" href="#changes-in-version-09919"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-99-19">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-99-19"></a></h3>
<ul><li>Simplified loops with <code>mapply</code>/<code>lapply</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-99-19">New features<a class="anchor" aria-label="anchor" href="#new-features-0-99-19"></a></h3>
<ul><li>
<code>EpiCompare</code>: accepts multiple reference files - creates individual reports for each reference. Added timing feature.</li>
<li>
<code><a href="../reference/save_output.html">save_output()</a></code>: this function saves all plots and tables generated by EpiCompare. Also saves interactive heatmaps. Used in EpiCompare.Rmd.</li>
<li>
<code><a href="../reference/fig_length.html">fig_length()</a></code>: This function outputs dynamic figure height/width depending on the number of items. Used in EpiCompare.Rmd.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.18" id="changes-in-version-09918">CHANGES IN VERSION 0.99.18<a class="anchor" aria-label="anchor" href="#changes-in-version-09918"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-99-18">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-99-18"></a></h3>
<ul><li>
<code>prepare_reference</code>: Validate reference input before passing to next step.</li>
<li>Pass named list to <code>genome_build</code> to allow for different builds between <code>reference</code> and <code>peaklist</code>.</li>
<li>Liftover <code>blacklist</code> to match GRanges list it’s being used to filter in <code>tidy_peakfile</code>.</li>
<li>Ensure all names are unique in <code>peaklist</code> and <code>reference</code>.</li>
<li>
<code>gather_files</code>:
<ul><li>Avoid gathering duplicates peak files from <code>nf-core/cutandrun</code>.</li>
<li>Add progress bar.</li>
<li>Add report at the end.</li>
<li>Add extra arg <code>return_paths</code> to return only the paths without actually reading in the files.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-99-18">New features<a class="anchor" aria-label="anchor" href="#new-features-0-99-18"></a></h3>
<ul><li>Overhaul how <em>EpiCompare</em> handles genome builds:
<ul><li>New argument <code>genome_build_output</code> allows users to specify which genome build to standardise all inputs to.</li>
<li>
<code>genome_build</code> can now take a named list to specify different genome builds for <code>peakfiles</code>, <code>reference</code>, and <code>blacklist</code>.<br></li>
<li>Added functions to parse and validate all genome build-related arguments.</li>
</ul></li>
<li>Remove unnecessary deps.</li>
<li>Use <code>data.table</code> to read/write tables.</li>
<li>
<code>prepare_peaklist</code>:
<ul><li>Simplified code.</li>
<li>Added arg <code>remove_empty</code> to automatically drop any empty elements.</li>
<li>Embed <code>check_list_names</code> within.</li>
</ul></li>
<li>
<code>plot_chromHMM</code>:
<ul><li>Can return data as well with <code>return_data</code>.</li>
<li>Performs liftover on chromHMM data instead of the <code>peaklist</code>.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.17" id="changes-in-version-09917">CHANGES IN VERSION 0.99.17<a class="anchor" aria-label="anchor" href="#changes-in-version-09917"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-99-17">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-99-17"></a></h3>
<ul><li>Make <code>output_dir</code> creation recursive and without warnings.</li>
<li>Add new params to <em>Code</em> section of rmarkdown output.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-99-17">New features<a class="anchor" aria-label="anchor" href="#new-features-0-99-17"></a></h3>
<ul><li>Add new <code>peaklist</code> length check to <code>prepare_peaklist</code>.</li>
<li>New check functions:
<ul><li>
<code>check_genomebuild</code>: ensure necessary packages installed and that “genomebuild” is valid.</li>
<li><code>check_cell_lines</code></li>
</ul></li>
<li>
<code>liftover_grlist</code>: Dedicated liftover function, exported.<br></li>
<li>Document <code>checkCache</code>.</li>
<li>
<code>get_chromHMM_annotation</code> can now take a list of cell lines as an argument.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.16" id="changes-in-version-09916">CHANGES IN VERSION 0.99.16<a class="anchor" aria-label="anchor" href="#changes-in-version-09916"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-99-16">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-99-16"></a></h3>
<ul><li>Fix GHA pkgdown building:
<ul><li>The newest version of <a href="https://github.com/actions/checkout/issues/760" class="external-link">git introduced bugs when building pkgdown sites</a> from within Docker containers (e.g. via my Linux GHA workflow). Adjusting GHA to fix this.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.3" id="changes-in-version-0993">CHANGES IN VERSION 0.99.3<a class="anchor" aria-label="anchor" href="#changes-in-version-0993"></a></h2>
<div class="section level3">
<h3 id="new-features-0-99-3">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-99-3"></a></h3>
<ul><li>New functions with examples/unit tests:
<ul><li>
<code>import_narrowPeak</code>: Import narrowPeak files, with automated header annotation using metadata from ENCODE.<br></li>
<li>
<code>gather_files</code>: Automatically peak/picard/bed files and read them in as a list of <code>GRanges</code> objects.<br></li>
<li>
<code>write_example_peaks</code>: Write example peak data to disk.</li>
</ul></li>
<li>Update <em>.gitignore</em>
</li>
<li>Update <em>.Rbuildignore</em>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.1" id="changes-in-version-0991">CHANGES IN VERSION 0.99.1<a class="anchor" aria-label="anchor" href="#changes-in-version-0991"></a></h2>
<div class="section level3">
<h3 id="new-features-0-99-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-99-1"></a></h3>
<ul><li>New parameter in EpiCompare:
<ul><li>
<code>genome_build</code>: Specify the genome build, either “hg19” or “hg38”. This parameter is also included in <code>plot_chromHMM</code>, <code>plot_ChIPseeker_annotation</code>, <code>tss_plot</code> and <code>plot_enrichment</code>.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.99.0" id="changes-in-version-0990">CHANGES IN VERSION 0.99.0<a class="anchor" aria-label="anchor" href="#changes-in-version-0990"></a></h2>
<div class="section level3">
<h3 id="new-features-0-99-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-99-0"></a></h3>
<ul><li>
<code>EpiCompare</code> submitted to Bioconductor.</li>
</ul></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sera Choi, Brian Schilder, Leyla Abbasova, Alan Murphy, Nathan Skene, Hiranyamaya Dash.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

